{"remainingRequest":"/Users/Karl/Coding/app/page/attendee/node_modules/vue-mobile-calendar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Karl/Coding/app/page/attendee/node_modules/vue-mobile-calendar/lib/calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Karl/Coding/app/page/attendee/node_modules/vue-mobile-calendar/lib/calendar.vue","mtime":1562748183969},{"path":"/Users/Karl/Coding/app/page/attendee/node_modules/vue-mobile-calendar/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Karl/Coding/app/page/attendee/node_modules/vue-mobile-calendar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Karl/Coding/app/page/attendee/node_modules/vue-mobile-calendar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport './popover.less';\r\nimport inlineCalendar from './inlineCalendar';\r\n\r\nexport default {\r\n  name: 'calendar',\r\n  components: {\r\n    inlineCalendar,\r\n  },\r\n  props: {\r\n    ...inlineCalendar.props,\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    closeByClickMask: {\r\n      type: Boolean,\r\n      default: true,\r\n    }\r\n  },\r\n  watch:{\r\n    show(newValue){\r\n      if (newValue == true) {\r\n        this.forbidBodyScroll()\r\n\r\n        // 将当天的日期值显示为今天\r\n        // let elToday = document.querySelector(\".m-today\");\r\n        // elToday.innerHTML = elToday.index();\r\n\r\n\r\n      }\r\n      else {\r\n        this.allowBodyScroll()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onPopoverClick(e) {\r\n      if (this.closeByClickMask && !this.$refs.calendar.$refs.calendar.contains(e.target)) {\r\n        this.$emit('update:show', false);\r\n      }\r\n    },\r\n    handelChange(val) {\r\n      this.$emit('change', val);\r\n    },\r\n    handelSwitch(val) {\r\n      this.$emit('switch', val);\r\n    },\r\n    onConfirm(val){\r\n      this.$emit('onConfirm', val);\r\n      this.$emit('update:show', false);\r\n    },\r\n    onClose(){\r\n      this.$emit('update:show', false);\r\n    },\r\n    /**\r\n     * @desc 解决日期弹框穿透问题，禁止滚动\r\n     */\r\n    forbidBodyScroll() {\r\n      let layer = document.querySelector(\".m-popover\");\r\n      layer.style.display = \"block\";\r\n      layer.addEventListener(\"touchmove\", function(e) {\r\n        e.preventDefault();\r\n      });\r\n    },\r\n    /**\r\n     * @desc 解决日期弹框穿透问题，释放滚动\r\n     */\r\n    allowBodyScroll() {\r\n      let layer = document.querySelector(\".m-popover\");\r\n      layer.style.display = \"none\";\r\n    }\r\n  },\r\n};\r\n",{"version":3,"sources":["calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"calendar.vue","sourceRoot":"lib","sourcesContent":["<template>\r\n  <transition name=\"m-fade\">\r\n    <div class=\"m-popover\" v-show=\"show\"  @click=\"onPopoverClick\">\r\n      <transition name=\"m-slide\">\r\n        <div class=\"m-popover-container\" v-show=\"show\">\r\n          <inlineCalendar v-bind=\"$props\" @change=\"handelChange\" @switch=\"handelSwitch\" ref=\"calendar\" @onConfirm=\"onConfirm\" @onClose=\"onClose\" />\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport './popover.less';\r\nimport inlineCalendar from './inlineCalendar';\r\n\r\nexport default {\r\n  name: 'calendar',\r\n  components: {\r\n    inlineCalendar,\r\n  },\r\n  props: {\r\n    ...inlineCalendar.props,\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    closeByClickMask: {\r\n      type: Boolean,\r\n      default: true,\r\n    }\r\n  },\r\n  watch:{\r\n    show(newValue){\r\n      if (newValue == true) {\r\n        this.forbidBodyScroll()\r\n\r\n        // 将当天的日期值显示为今天\r\n        // let elToday = document.querySelector(\".m-today\");\r\n        // elToday.innerHTML = elToday.index();\r\n\r\n\r\n      }\r\n      else {\r\n        this.allowBodyScroll()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onPopoverClick(e) {\r\n      if (this.closeByClickMask && !this.$refs.calendar.$refs.calendar.contains(e.target)) {\r\n        this.$emit('update:show', false);\r\n      }\r\n    },\r\n    handelChange(val) {\r\n      this.$emit('change', val);\r\n    },\r\n    handelSwitch(val) {\r\n      this.$emit('switch', val);\r\n    },\r\n    onConfirm(val){\r\n      this.$emit('onConfirm', val);\r\n      this.$emit('update:show', false);\r\n    },\r\n    onClose(){\r\n      this.$emit('update:show', false);\r\n    },\r\n    /**\r\n     * @desc 解决日期弹框穿透问题，禁止滚动\r\n     */\r\n    forbidBodyScroll() {\r\n      let layer = document.querySelector(\".m-popover\");\r\n      layer.style.display = \"block\";\r\n      layer.addEventListener(\"touchmove\", function(e) {\r\n        e.preventDefault();\r\n      });\r\n    },\r\n    /**\r\n     * @desc 解决日期弹框穿透问题，释放滚动\r\n     */\r\n    allowBodyScroll() {\r\n      let layer = document.querySelector(\".m-popover\");\r\n      layer.style.display = \"none\";\r\n    }\r\n  },\r\n};\r\n</script>\r\n"]}]}